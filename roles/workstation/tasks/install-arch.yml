---
- name: Install base packages
  become: true
  pacman:
    state: "{{ packages_state }}"
    upgrade: yes
    name:
      - docker
      - vim
      - tmux
      - cmake
      - python2
      - python3
      - the_silver_searcher
      - ripgrep
      - emacs
      - zsh
      - git
      - openbox
      - firefox
      - chromium
      - zeal
      - fzf
      - adobe-source-code-pro-fonts
      - mate-terminal
      - emacs
  tags: [install]

- name: Install AUR packages
  command: "pacaur -S --noconfirm --noedit {{ item }}"
  with_items:
    - chkboot
    - entr
    - shutter
    - antigen-git
    - sshrc-git
    - editorconfig-core-c
    - pyenv
    - pyenv-virtualenv
    - git-extras
    - zsh-pure-prompt
    - antigen-git
  tags: [install, aur]

- name: Install python versions
  shell: pyenv install {{ item }} -s
  args:
    creates: ~/.pyenv/versions/{{ item }}
  with_items: "{{ pyenv_versions }}"
  tags: [python, install]
